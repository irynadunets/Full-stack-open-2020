{"version":3,"sources":["components/Filter.js","components/Form.js","components/Person.js","services/persons.js","components/PersonsList.js","components/Notificatin.js","components/Errorm.js","index.js"],"names":["Filter","searchName","handlePersonNameSearch","value","onChange","Form","addPerson","newName","handlePersonNameChange","newNumber","handlePersonNumberChange","onSubmit","type","Person","name","number","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonsList","persons","setPersons","setErrorMessage","map","person","key","onClick","window","confirm","personService","filter","catch","error","Notificatin","message","console","log","className","Errorm","App","useState","setNewName","setnewNumber","setsearchName","notificationMessage","setMessage","errorMessage","useEffect","initialPersons","event","target","preventDefault","personObject","length","find","obj","changedObject","returnedPerson","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.81fbb73a.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({searchName, handlePersonNameSearch}) => {\n  return (\n    <div>\n      filter shown with <input value={searchName} onChange={handlePersonNameSearch}/>\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react';\n\nconst Form = ({addPerson, newName, handlePersonNameChange, newNumber, handlePersonNumberChange}) => {\n\n  return (\n    <div>\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handlePersonNameChange}/>\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handlePersonNumberChange}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n    </div>\n  )\n}\n\nexport default Form\n","import React from 'react'\n\nconst Person = ({name, number}) => {\n  return (\n      <p>{name} {number}</p>\n  )\n}\n\nexport default Person\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst delate = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, delate }\n","import React from 'react'\nimport Person from './Person'\nimport personService from '../services/persons'\n\nconst PersonsList = ({ persons, setPersons, searchName, setErrorMessage }) => {\n\n  const deletePerson = ( name, id ) => {\n    if (name && window.confirm(`Delete ${name}`)) {\n      personService\n      .delate(id)\n      .then(response => {\n        setPersons(persons.filter(person => person.id !== id))\n      })\n      .catch(error => {\n        setErrorMessage('Information of ' + name + ' has already been removed from server')\n    })\n  }\n}\n\n  return (\n    <ul>\n    {\n    persons\n      .map(person => (\n          <li key={person.id}>\n           <Person  name={person.name} number={person.number}/>\n           <button onClick={() => deletePerson(person.name, person.id)}>Delete</button>\n         </li>\n    )\n    )}\n    </ul>\n  )\n}\n\nexport default PersonsList\n","import React from 'react'\n\nconst Notificatin = ({ message }) => {\n  if (message === '') {\n    return null\n  }\nconsole.log(message)\n  return (\n    <div className='notification'>\n      {message}\n    </div>\n  )\n}\n\nexport default Notificatin\n","import React from 'react'\n\nconst Errorm = ({ message }) => {\n  if (message === '') {\n    return null\n  }\n\n  return (\n    <div className='error'>\n      {message}\n    </div>\n  )\n}\n\nexport default Errorm\n","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport PersonsList from './components/PersonsList'\nimport Notificatin from './components/Notificatin'\nimport Errorm from './components/Errorm'\nimport personService from './services/persons'\nimport './index.css'\n\nconst App = () => {\n\n  let [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setnewNumber ] = useState('')\n  const [ searchName, setsearchName ] = useState('')\n  const [ notificationMessage, setMessage ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(error => {\n        console.log('fail')\n  })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1,\n    }\n\n  let person = persons.find(obj => obj.name === personObject.name)\n  if(person && window.confirm(`${person.name}\n       is already added to phonebook, replace the old number with the new one?`)){\n         const changedObject = { ...person, number: newNumber }\n         console.log(changedObject)\n         let id = person.id\n         console.log(id)\n         personService\n           .update(id, changedObject)\n           .then(returnedPerson => {\n             setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n             setMessage(`Person '${returnedPerson.name}' is updated in phonebook`)\n             setTimeout(() => {\n               setMessage(null)\n             }, 5000)\n             setNewName('')\n             setnewNumber('')\n           })\n           .catch(error => {\n             console.log(error.response.data)\n             setErrorMessage(error.response.data.error)\n             setTimeout(() => {\n               setErrorMessage(null)\n             }, 5000)\n       })\n  } else {\n  personService\n    .create(personObject)\n    .then(returnedPerson => {\n      setPersons(persons.concat(returnedPerson))\n      setMessage(`Person '${returnedPerson.name}' is added in phonebook`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      setNewName('')\n      setnewNumber('')\n    })\n    .catch(error => {\n      console.log(error.response.data)\n      setErrorMessage(error.response.data.error)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n  })\n }\n }\n\n const handlePersonNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handlePersonNumberChange = (event) => {\n    setnewNumber(event.target.value)\n  }\n\n  const handlePersonNameSearch = (event) => {\n    setsearchName(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notificatin message = {notificationMessage} />\n      <Errorm message = {errorMessage} />\n      <Filter searchName = {searchName} handlePersonNameSearch = {handlePersonNameSearch} />\n      <h2>add a new</h2>\n      <Form addPerson = {addPerson} newName = {newName} handlePersonNameChange = {handlePersonNameChange} newNumber = {newNumber} handlePersonNumberChange = {handlePersonNumberChange}/>\n      <h2>Numbers</h2>\n      <PersonsList persons= {persons} setPersons= {setPersons} searchName = {searchName} setErrorMessage={setErrorMessage} />\n    </div>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}